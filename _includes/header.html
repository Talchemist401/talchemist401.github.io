<header>
  <div class="container">
    <a href="/" class="logo">Talchemist.ai</a>
    <nav>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/features">Features</a></li>
        <li><a href="/pricing">Pricing</a></li>
        <li><a href="/faq">FAQ</a></li>
        <li><a href="/contact">Contact</a></li>
      </ul>
    </nav>
    <div class="auth-links">
      <!-- Login and Register links are hidden by default -->
      <a href="/login" id="login-link" style="display: none;">Login</a> 
      | 
      <a href="/register" id="register-link" style="display: none;">Register</a>
      <!-- Logout link, hidden by default -->
      <a href="#" id="logout-link" style="display: none;">Logout</a>
    </div>
  </div>
</header>

<script>
  // Listen for changes in authentication state
  firebase.auth().onAuthStateChanged((user) => {
    if (user) {
      // User is logged in: show Logout, hide Login/Register
      document.getElementById('login-link').style.display = 'none';
      document.getElementById('register-link').style.display = 'none';
      document.getElementById('logout-link').style.display = 'inline-block';
    } else {
      // No user is logged in: show Login/Register, hide Logout
      document.getElementById('login-link').style.display = 'inline-block';
      document.getElementById('register-link').style.display = 'inline-block';
      document.getElementById('logout-link').style.display = 'none';
    }
  });

  // Handle logout click
  document.getElementById('logout-link').addEventListener('click', function(e) {
    e.preventDefault(); // Prevent default link behavior
    firebase.auth().signOut()
      .then(() => {
        console.log("User logged out successfully");
        // Redirect to homepage after logout
        window.location.href = "/";
      })
      .catch((error) => {
        console.error("Logout error:", error);
        alert("Logout failed: " + error.message);
      });
  });
</script>
